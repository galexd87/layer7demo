{
  "goid": "e001cfd0c1c1ffaa18e187b5e72fe7fe",
  "guid": "35a8d039-8b0e-4492-9311-b4bca9a19d98",
  "name": "OpenID Connect Client - ICP",
  "resolutionPath": "/oauth/v2/client/icp",
  "serviceType": "WEB_API",
  "checksum": "1dbe41d28472ef2e86054d083ab233953dc28d93",
  "enabled": true,
  "folderPath": "/OTK/Server/Internal/Tools/OAuth 2.0 Test Clients",
  "methodsAllowed": [
    "GET",
    "POST",
    "PUT",
    "DELETE"
  ],
  "tracingEnabled": false,
  "wssProcessingEnabled": false,
  "laxResolution": false,
  "policy": {
    "xml": "<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:SslAssertion/>\n        <L7p:Include>\n            <L7p:PolicyGuid stringValue=\"9f29a8bd-912e-40a5-a48c-3b6f8aa40ac6\"/>\n            <L7p:PolicyName stringValue=\"OTK Security Header Extension\"/>\n        </L7p:Include>\n        <wsp:All wsp:Usage=\"Required\">\n            <L7p:AddHeader>\n                <L7p:AssertionComment assertionComment=\"included\">\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                            <L7p:value stringValue=\"HTTPS only\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                            <L7p:value stringValue=\"Inform the browser to only accept SSL connections\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:AssertionComment>\n                <L7p:HeaderName stringValue=\"Content-Security-Policy\"/>\n                <L7p:HeaderValue stringValue=\"default-src 'self'; script-src 'unsafe-inline'; img-src * data:; style-src 'unsafe-inline'; font-src * data:; require-trusted-types-for 'script'; object-src 'none';\"/>\n                <L7p:RemoveExisting booleanValue=\"true\"/>\n                <L7p:Target target=\"RESPONSE\"/>\n            </L7p:AddHeader>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"Override OTK Security Header Extension\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:All>\n        <L7p:CustomizeErrorResponse>\n            <L7p:AssertionComment assertionComment=\"included\">\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"HTML\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                        <L7p:value stringValue=\"Return HTML error response\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:AssertionComment>\n            <L7p:Content stringValueReference=\"inline\"><![CDATA[${htmlTemplateTop}\n<h1>Grant type: Implicit with OpenID Connect</h1>\n<pre>${error.msg}</pre>\n${htmlTemplateBottom}]]></L7p:Content>\n            <L7p:ContentType stringValue=\"text/html;charset=UTF-8\"/>\n            <L7p:ExtraHeaders nameValuePairArray=\"included\">\n                <L7p:item nameValuePair=\"included\">\n                    <L7p:Key stringValue=\"Pragma\"/>\n                    <L7p:Value stringValue=\"no-cache\"/>\n                </L7p:item>\n                <L7p:item nameValuePair=\"included\">\n                    <L7p:Key stringValue=\"Cache-Control\"/>\n                    <L7p:Value stringValue=\"no-store\"/>\n                </L7p:item>\n                <L7p:item nameValuePair=\"included\">\n                    <L7p:Key stringValue=\"x-ca-err\"/>\n                    <L7p:Value stringValue=\"${error.code}\"/>\n                </L7p:item>\n            </L7p:ExtraHeaders>\n            <L7p:HttpStatus stringValue=\"${status}\"/>\n        </L7p:CustomizeErrorResponse>\n        <L7p:Encapsulated>\n            <L7p:EncapsulatedAssertionConfigGuid stringValue=\"51740c0b-11c5-455e-92a0-a1f915264eb0\"/>\n            <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK Client Context Variables\"/>\n        </L7p:Encapsulated>\n        <L7p:Encapsulated>\n            <L7p:AssertionComment assertionComment=\"included\">\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                        <L7p:value stringValue=\"return false if the XSS tag is found\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:AssertionComment>\n            <L7p:EncapsulatedAssertionConfigGuid stringValue=\"2be8eaf2-9b42-4173-ace9-3fdb471fb407\"/>\n            <L7p:EncapsulatedAssertionConfigName stringValue=\"API XSS Protection\"/>\n            <L7p:Parameters mapValue=\"included\">\n                <L7p:entry>\n                    <L7p:key stringValue=\"allinput\"/>\n                    <L7p:value stringValue=\"${request.mainpart}${request.url}\"/>\n                </L7p:entry>\n            </L7p:Parameters>\n        </L7p:Encapsulated>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:Expression1 stringValue=\"${request.http.parameter.access_token}\"/>\n                    <L7p:Expression2 stringValue=\"\"/>\n                    <L7p:ExpressionIsVariable booleanValue=\"false\"/>\n                    <L7p:Negate booleanValue=\"true\"/>\n                    <L7p:Operator operator=\"EMPTY\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:Negated booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:RightValue stringValue=\"\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${request.http.parameter.state}\"/>\n                    <L7p:Expression2 stringValue=\"pr\"/>\n                    <L7p:ExpressionIsVariable booleanValue=\"false\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:RightValue stringValue=\"pr\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:EncodeDecode>\n                    <L7p:SourceVariableName stringValue=\"oauth2_resource\"/>\n                    <L7p:TargetDataType variableDataType=\"string\"/>\n                    <L7p:TargetVariableName stringValue=\"resource\"/>\n                    <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                </L7p:EncodeDecode>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"cmVzb3VyY2U9JHtyZXNvdXJjZX0=\"/>\n                    <L7p:ContentType stringValue=\"application/x-www-form-urlencoded\"/>\n                    <L7p:DataType variableDataType=\"message\"/>\n                    <L7p:VariableToSet stringValue=\"toServer\"/>\n                </L7p:SetVariable>\n                <L7p:HttpRoutingAssertion>\n                    <L7p:ProtectedServiceUrl stringValue=\"${location_resourceendpoint}?access_token=${request.http.parameter.access_token}\"/>\n                    <L7p:ProxyPassword stringValueNull=\"null\"/>\n                    <L7p:ProxyUsername stringValueNull=\"null\"/>\n                    <L7p:RequestHeaderRules httpPassthroughRuleSet=\"included\">\n                        <L7p:Rules httpPassthroughRules=\"included\"/>\n                    </L7p:RequestHeaderRules>\n                    <L7p:RequestMsgSrc stringValue=\"toServer\"/>\n                    <L7p:RequestParamRules httpPassthroughRuleSet=\"included\">\n                        <L7p:Rules httpPassthroughRules=\"included\"/>\n                    </L7p:RequestParamRules>\n                    <L7p:ResponseHeaderRules httpPassthroughRuleSet=\"included\">\n                        <L7p:Rules httpPassthroughRules=\"included\">\n                            <L7p:item httpPassthroughRule=\"included\">\n                                <L7p:Name stringValue=\"Set-Cookie\"/>\n                            </L7p:item>\n                        </L7p:Rules>\n                    </L7p:ResponseHeaderRules>\n                    <L7p:SamlAssertionVersion intValue=\"2\"/>\n                </L7p:HttpRoutingAssertion>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                            <L7p:value stringValue=\"Call the protected resource endpoint\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${request.url.path}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item regex=\"included\">\n                            <L7p:Pattern stringValue=\".+/icp\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmNvZGV9\"/>\n                    <L7p:VariableToSet stringValue=\"code\"/>\n                </L7p:SetVariable>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"JHtjbGllbnRfc2VjcmV0X2ljcH0=\"/>\n                        <L7p:VariableToSet stringValue=\"client_secret_display\"/>\n                    </L7p:SetVariable>\n                    <L7p:Regex>\n                        <L7p:AutoTarget booleanValue=\"false\"/>\n                        <L7p:CaptureVar stringValue=\"client_secret_front\"/>\n                        <L7p:OtherTargetMessageVariable stringValue=\"client_secret_display\"/>\n                        <L7p:Regex stringValue=\"^(.{5})\"/>\n                        <L7p:Replace booleanValue=\"true\"/>\n                        <L7p:Replacement stringValue=\"\"/>\n                        <L7p:Target target=\"OTHER\"/>\n                    </L7p:Regex>\n                    <L7p:Regex>\n                        <L7p:AutoTarget booleanValue=\"false\"/>\n                        <L7p:CaptureVar stringValue=\"client_secret_end\"/>\n                        <L7p:OtherTargetMessageVariable stringValue=\"client_secret_display\"/>\n                        <L7p:Regex stringValue=\"(.{5})$\"/>\n                        <L7p:Replace booleanValue=\"true\"/>\n                        <L7p:Replacement stringValue=\"\"/>\n                        <L7p:Target target=\"OTHER\"/>\n                    </L7p:Regex>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"JHtjbGllbnRfc2VjcmV0X2Zyb250WzFdfSAuLi4gJHtjbGllbnRfc2VjcmV0X2VuZFsxXX0=\"/>\n                        <L7p:VariableToSet stringValue=\"client_secret_display\"/>\n                    </L7p:SetVariable>\n                    <L7p:assertionComment>\n                        <L7p:Properties mapValue=\"included\">\n                            <L7p:entry>\n                                <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                                <L7p:value stringValue=\"Compute the client_secret for display\"/>\n                            </L7p:entry>\n                        </L7p:Properties>\n                    </L7p:assertionComment>\n                </wsp:All>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"dG9rZW4gaWRfdG9rZW4=\"/>\n                    <L7p:VariableToSet stringValue=\"response_type\"/>\n                </L7p:SetVariable>\n                <wsp:OneOrMore wsp:Usage=\"Required\">\n                    <wsp:All wsp:Usage=\"Required\">\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.state}\"/>\n                            <L7p:Expression2 stringValue=\"view\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:RightValue stringValue=\"view\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:ComparisonAssertion>\n                            <L7p:Expression1 stringValue=\"${code}\"/>\n                            <L7p:Expression2 stringValue=\"\"/>\n                            <L7p:Negate booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:Negated booleanValue=\"true\"/>\n                                    <L7p:Operator operator=\"EMPTY\"/>\n                                    <L7p:RightValue stringValue=\"\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <wsp:OneOrMore wsp:Usage=\"Required\">\n                            <wsp:All wsp:Usage=\"Required\">\n                                <L7p:Encapsulated>\n                                    <L7p:EncapsulatedAssertionConfigGuid stringValue=\"4e4bc164-3fa2-4b15-ba65-31cef45b84b0\"/>\n                                    <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK Session GET\"/>\n                                    <L7p:Parameters mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheAge\"/>\n                                    <L7p:value stringValue=\"300\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheId\"/>\n                                    <L7p:value stringValue=\"tokenResult\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheKey\"/>\n                                    <L7p:value stringValue=\"${code}\"/>\n                                    </L7p:entry>\n                                    </L7p:Parameters>\n                                </L7p:Encapsulated>\n                                <L7p:ResponseXpathAssertion>\n                                    <L7p:VariablePrefix stringValue=\"sessionValue\"/>\n                                    <L7p:XmlMsgSrc stringValue=\"resp\"/>\n                                    <L7p:XpathExpression xpathExpressionValue=\"included\">\n                                    <L7p:Expression stringValue=\"/ns:found/ns:value/text()\"/>\n                                    <L7p:Namespaces mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"ns\"/>\n                                    <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-session\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"s\"/>\n                                    <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                                    </L7p:entry>\n                                    </L7p:Namespaces>\n                                    <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n                                    </L7p:XpathExpression>\n                                </L7p:ResponseXpathAssertion>\n                                <L7p:EncodeDecode>\n                                    <L7p:SourceVariableName stringValue=\"sessionValue.result\"/>\n                                    <L7p:TargetContentType stringValue=\"text/html;charset=UTF-8\"/>\n                                    <L7p:TargetDataType variableDataType=\"message\"/>\n                                    <L7p:TargetVariableName stringValue=\"tokenResult\"/>\n                                    <L7p:TransformType transformType=\"URL_DECODE\"/>\n                                </L7p:EncodeDecode>\n                                <L7p:HardcodedResponse>\n                                    <L7p:Base64ResponseBody stringValue=\"JHtodG1sVGVtcGxhdGVUb3B9CjxoMT5HcmFudCB0eXBlOiBJbXBsaWNpdCB3aXRoIE9wZW5JRCBDb25uZWN0PC9oMT4KJHt0b2tlblJlc3VsdC5tYWlucGFydH0KJHtodG1sVGVtcGxhdGVCb3R0b219\"/>\n                                    <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                                </L7p:HardcodedResponse>\n                            </wsp:All>\n                            <L7p:HardcodedResponse>\n                                <L7p:Base64ResponseBody stringValue=\"JHtodG1sVGVtcGxhdGVUb3B9DQo8aDE+R3JhbnQgdHlwZTogSW1wbGljaXQgd2l0aCBPcGVuSUQgQ29ubmVjdDwvaDE+CjxwPlNvcnJ5LCBidXQgdGhlIGxpZmV0aW1lIGZvciB0aGlzIHBhZ2UgaGFzIGV4cGlyZWQuPC9wPg0KPHA+PGEgaHJlZj0iJHtsb2NhdGlvbl9hcHB9IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij5SZXBlYXQgUmVxdWVzdDwvYT48L3A+DQoke2h0bWxUZW1wbGF0ZUJvdHRvbX0=\"/>\n                                <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                            </L7p:HardcodedResponse>\n                        </wsp:OneOrMore>\n                        <L7p:assertionComment>\n                            <L7p:Properties mapValue=\"included\">\n                                <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"DISPLAY results\"/>\n                                </L7p:entry>\n                            </L7p:Properties>\n                        </L7p:assertionComment>\n                    </wsp:All>\n                    <wsp:All wsp:Usage=\"Required\">\n                        <L7p:CommentAssertion>\n                            <L7p:Comment stringValue=\"The received message will be sent to the user-agent which in turn send back the message\"/>\n                        </L7p:CommentAssertion>\n                        <L7p:CommentAssertion>\n                            <L7p:Comment stringValue=\"with parameters instead of a url-fragment\"/>\n                        </L7p:CommentAssertion>\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.auth}\"/>\n                            <L7p:Expression2 stringValue=\"done\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:RightValue stringValue=\"done\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnN0YXRlfQ==\"/>\n                            <L7p:VariableToSet stringValue=\"state\"/>\n                        </L7p:SetVariable>\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${state}\"/>\n                            <L7p:Expression2 stringValue=\"\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:Operator operator=\"EMPTY\"/>\n                                    <L7p:RightValue stringValue=\"\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:HardcodedResponse>\n                            <L7p:Base64ResponseBody stringValue=\"PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiIKICAgICAgICAiaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDQvbG9vc2UuZHRkIj4KPGh0bWw+CjxoZWFkPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoKICAgICAgICB2YXIgdGFyZ2V0VXJsID0gJyR7bG9jYXRpb25fYXBwfSc7CiAgICAgICAgdmFyIHNlYXJjaENvbnRlbnQgPSAnJzsKICAgICAgICB2YXIgZnJhZ21lbnRDb250ZW50ID0gJyc7CiAgICAgICAgCiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCA+IDApCiAgICAgICAgICAgIGZyYWdtZW50Q29udGVudCA9IGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpOwoKICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaC5sZW5ndGggPiAwKQogICAgICAgICAgICBzZWFyY2hDb250ZW50ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKCiAgICAgICAgaWYgKHNlYXJjaENvbnRlbnQubGVuZ3RoID4gMCAmJiBmcmFnbWVudENvbnRlbnQubGVuZ3RoID4gMCkKICAgICAgICAgICAgdGFyZ2V0VXJsID0gdGFyZ2V0VXJsICsgc2VhcmNoQ29udGVudCArICcmJyArIGZyYWdtZW50Q29udGVudDsKICAgICAgICBlbHNlIGlmIChzZWFyY2hDb250ZW50Lmxlbmd0aCA+IDAgJiYgZnJhZ21lbnRDb250ZW50Lmxlbmd0aCA9PSAwKQogICAgICAgICAgICB0YXJnZXRVcmwgPSB0YXJnZXRVcmwgKyBzZWFyY2hDb250ZW50OwogICAgICAgIGVsc2UgaWYgKHNlYXJjaENvbnRlbnQubGVuZ3RoID09IDAgJiYgZnJhZ21lbnRDb250ZW50Lmxlbmd0aCA+IDApCiAgICAgICAgICAgIHRhcmdldFVybCA9IHRhcmdldFVybCArICc/JyArIGZyYWdtZW50Q29udGVudDsKCgk8IS0tIGFsZXJ0ICh0YXJnZXRVcmwpOyAtLT4KICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB0YXJnZXRVcmw7CiAgICAgICAgCiAgICA8L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pg==\"/>\n                            <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                        </L7p:HardcodedResponse>\n                        <L7p:assertionComment>\n                            <L7p:Properties mapValue=\"included\">\n                                <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"Received redirected message\"/>\n                                </L7p:entry>\n                            </L7p:Properties>\n                        </L7p:assertionComment>\n                    </wsp:All>\n                    <wsp:All wsp:Usage=\"Required\">\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.auth}\"/>\n                            <L7p:Expression2 stringValue=\"done\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:RightValue stringValue=\"done\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:ComparisonAssertion>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.error}\"/>\n                            <L7p:Expression2 stringValue=\"\"/>\n                            <L7p:Negate booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:Negated booleanValue=\"true\"/>\n                                    <L7p:Operator operator=\"EMPTY\"/>\n                                    <L7p:RightValue stringValue=\"\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:HardcodedResponse>\n                            <L7p:Base64ResponseBody stringValue=\"JHtodG1sVGVtcGxhdGVUb3B9DQo8aDE+R3JhbnQgdHlwZTogSW1wbGljaXQgd2l0aCBPcGVuSUQgQ29ubmVjdDwvaDE+CjwhLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIC0tPg0KPHA+VGhlIGNsaWVudCBhY2Nlc3Mgd2FzIGRlbmllZCBieSB0aGUgcmVzb3VyY2Ugb3duZXIuPC9wPg0KPHA+VGhlIGF1dGhvcml6YXRpb24gc2VydmVyIGhhcyB2YWxpZGF0ZWQgdGhlIHJlcXVlc3QgYW5kIHJldHVybmVkIHRoaXMgZXJyb3IgdG8gdGhlIGNsaWVudCBhcyBVUkwgcGFyYW1ldGVyOjwvcD4NCjxwcmU+RXJyb3I6ICR7cmVxdWVzdC5odHRwLnBhcmFtZXRlci5lcnJvcn08L3ByZT4NCjxwPjxhIGhyZWY9IiR7bG9jYXRpb25fYXBwfSIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+UmVwZWF0IFJlcXVlc3Q8L2E+PC9wPg0KPCEtLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgLS0+DQoke2h0bWxUZW1wbGF0ZUJvdHRvbX0=\"/>\n                            <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                        </L7p:HardcodedResponse>\n                        <L7p:assertionComment>\n                            <L7p:Properties mapValue=\"included\">\n                                <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"DENIED\"/>\n                                </L7p:entry>\n                            </L7p:Properties>\n                        </L7p:assertionComment>\n                    </wsp:All>\n                    <wsp:All wsp:Usage=\"Required\">\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.auth}\"/>\n                            <L7p:Expression2 stringValue=\"done\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:RightValue stringValue=\"done\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.state}\"/>\n                            <L7p:Expression2 stringValue=\"call\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:RightValue stringValue=\"call\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmFjY2Vzc190b2tlbn0=\"/>\n                            <L7p:VariableToSet stringValue=\"access_token\"/>\n                        </L7p:SetVariable>\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmlkX3Rva2VufQ==\"/>\n                            <L7p:VariableToSet stringValue=\"id_token\"/>\n                        </L7p:SetVariable>\n                        <wsp:OneOrMore wsp:Usage=\"Required\">\n                            <wsp:All wsp:Usage=\"Required\">\n                                <L7p:WssReplayProtection>\n                                    <L7p:CustomExpiryTime intValue=\"300000\"/>\n                                    <L7p:CustomIdentifierVariable stringValue=\"request.http.parameter.access_token\"/>\n                                    <L7p:CustomProtection booleanValue=\"true\"/>\n                                    <L7p:CustomScope stringValue=\"bcp\"/>\n                                </L7p:WssReplayProtection>\n                                <wsp:OneOrMore wsp:Usage=\"Required\">\n                                    <wsp:All wsp:Usage=\"Required\">\n                                    <L7p:CommentAssertion>\n                                    <L7p:Comment stringValue=\"Below validation is a sample which simply succeeds if one  method works.\"/>\n                                    </L7p:CommentAssertion>\n                                    <L7p:CommentAssertion>\n                                    <L7p:Comment stringValue=\"A real world client would have to validate the id_token dependant on the 'iss' (issuer)\"/>\n                                    </L7p:CommentAssertion>\n                                    <wsp:OneOrMore wsp:Usage=\"Required\">\n                                    <wsp:All wsp:Usage=\"Required\">\n                                    <L7p:DecodeJsonWebToken>\n\n                                    <L7p:AssertionComment assertionComment=\"included\">\n                                    <L7p:Properties mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"LEFT.COMMENT\"/>\n\n                                    <L7p:value stringValue=\"HS256\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n\n                                    <L7p:value stringValue=\"// validation using a shared secret (client_secret)\"/>\n                                    </L7p:entry>\n                                    </L7p:Properties>\n                                    </L7p:AssertionComment>\n                                    <L7p:KeyType stringValue=\"Certificate\"/>\n\n                                    <L7p:PrivateKeySource stringValue=\"client_secret_icp\"/>\n                                    <L7p:SignatureSecret stringValue=\"${client_secret_icp}\"/>\n                                    <L7p:SourcePayload stringValue=\"${id_token}\"/>\n\n                                    <L7p:TargetVariablePrefix stringValue=\"jwt\"/>\n                                    <L7p:ValidationType stringValue=\"Using Secret\"/>\n                                    </L7p:DecodeJsonWebToken>\n                                    <L7p:ComparisonAssertion>\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:Expression1 stringValue=\"${jwt.valid}\"/>\n                                    <L7p:Expression2 stringValue=\"true\"/>\n                                    <L7p:Predicates predicates=\"included\">\n                                    <L7p:item binary=\"included\">\n\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n\n                                    <L7p:RightValue stringValue=\"true\"/>\n                                    </L7p:item>\n                                    </L7p:Predicates>\n                                    </L7p:ComparisonAssertion>\n                                    <L7p:assertionComment>\n                                    <L7p:Properties mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"// HS256\"/>\n                                    </L7p:entry>\n                                    </L7p:Properties>\n                                    </L7p:assertionComment>\n                                    </wsp:All>\n                                    <wsp:All wsp:Usage=\"Required\">\n                                    <L7p:DecodeJsonWebToken>\n\n                                    <L7p:AssertionComment assertionComment=\"included\">\n                                    <L7p:Properties mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"LEFT.COMMENT\"/>\n\n                                    <L7p:value stringValue=\"RS256\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n\n                                    <L7p:value stringValue=\"// validation using a public key\"/>\n                                    </L7p:entry>\n                                    </L7p:Properties>\n                                    </L7p:AssertionComment>\n                                    <L7p:KeyGoid goidValue=\"0000000000000000ffffffffffffffff\"/>\n                                    <L7p:SourcePayload stringValue=\"${id_token}\"/>\n\n                                    <L7p:TargetVariablePrefix stringValue=\"jwt\"/>\n                                    <L7p:ValidationType stringValue=\"Using Recipient Key From List\"/>\n                                    </L7p:DecodeJsonWebToken>\n                                    <L7p:ComparisonAssertion>\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:Expression1 stringValue=\"${jwt.valid}\"/>\n                                    <L7p:Expression2 stringValue=\"true\"/>\n                                    <L7p:Predicates predicates=\"included\">\n                                    <L7p:item binary=\"included\">\n\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n\n                                    <L7p:RightValue stringValue=\"true\"/>\n                                    </L7p:item>\n                                    </L7p:Predicates>\n                                    </L7p:ComparisonAssertion>\n                                    <L7p:assertionComment>\n                                    <L7p:Properties mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"// RS256\"/>\n                                    </L7p:entry>\n                                    </L7p:Properties>\n                                    </L7p:assertionComment>\n                                    </wsp:All>\n                                    <L7p:assertionComment>\n                                    <L7p:Properties mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"// validate id_token signature\"/>\n                                    </L7p:entry>\n                                    </L7p:Properties>\n                                    </L7p:assertionComment>\n                                    </wsp:OneOrMore>\n                                    <L7p:Include>\n                                    <L7p:PolicyGuid stringValue=\"68ce345d-8f7e-41a0-8f0a-81ec59096884\"/>\n                                    <L7p:PolicyName stringValue=\"#OTK id_token Allowed Custom Claims\"/>\n                                    </L7p:Include>\n                                    <L7p:CustomAssertion>\n                                    <L7p:base64SerializedValue>rO0ABXNyADFjb20ubDd0ZWNoLnBvbGljeS5hc3NlcnRpb24uQ3VzdG9tQXNzZXJ0aW9uSG9sZGVyZtcreFwddTICAAlaAAxpc1VpQXV0b09wZW5MAApjYXRlZ29yaWVzdAAPTGphdmEvdXRpbC9TZXQ7TAAIY2F0ZWdvcnl0ACpMY29tL2w3dGVjaC9wb2xpY3kvYXNzZXJ0aW9uL2V4dC9DYXRlZ29yeTtMAA9jdXN0b21Bc3NlcnRpb250ADFMY29tL2w3dGVjaC9wb2xpY3kvYXNzZXJ0aW9uL2V4dC9DdXN0b21Bc3NlcnRpb247TAAUY3VzdG9tTW9kdWxlRmlsZU5hbWV0ABJMamF2YS9sYW5nL1N0cmluZztMAA9kZXNjcmlwdGlvblRleHRxAH4ABEwAD3BhbGV0dGVOb2RlTmFtZXEAfgAETAAOcG9saWN5Tm9kZU5hbWVxAH4ABEwAHnJlZ2lzdGVyZWRDdXN0b21GZWF0dXJlU2V0TmFtZXEAfgAEeHIAJWNvbS5sN3RlY2gucG9saWN5LmFzc2VydGlvbi5Bc3NlcnRpb27bX2OZPL2isQIAAloAB2VuYWJsZWRMABBhc3NlcnRpb25Db21tZW50dAAvTGNvbS9sN3RlY2gvcG9saWN5L2Fzc2VydGlvbi9Bc3NlcnRpb24kQ29tbWVudDt4cAFwAXNyABFqYXZhLnV0aWwuSGFzaFNldLpEhZWWuLc0AwAAeHB3DAAAAAI/QAAAAAAAAXNyAChjb20ubDd0ZWNoLnBvbGljeS5hc3NlcnRpb24uZXh0LkNhdGVnb3J5WrCcZaFE/jUCAAJJAAVteUtleUwABm15TmFtZXEAfgAEeHAAAAAHdAAfTWVzc2FnZVZhbGlkYXRpb25UcmFuc2Zvcm1hdGlvbnhwc3IARGNvbS5sN3RlY2guY3VzdG9tLm9wZW5pZGNvbm5lY3QuRGVjb2RlSURUb2tlbi5JRFRva2VuRGVjb2RlQXNzZXJ0aW9uxl6qBXO//LkCABNaAAlleHBvcnRBY3JaAAlleHBvcnRBbGxaAAxleHBvcnRBdEhhc2haAAlleHBvcnRBdWRaAA5leHBvcnRBdXRoVGltZVoACWV4cG9ydEF6cFoAC2V4cG9ydENIYXNoWgAQZXhwb3J0RXhwaXJhdGlvbloACWV4cG9ydElhdFoACWV4cG9ydElzc1oAC2V4cG9ydE5vbmNlWgARZXhwb3J0T3RoZXJDbGFpbXNaAAtleHBvcnRTSGFzaFoACWV4cG9ydFN1YloADnZhbGlkYXRlQ2xhaW1zWgASdmFsaWRhdGVFeHBpcmF0aW9uTAATYWxsb3dlZEN1c3RvbUNsYWltc3EAfgAETAAOZXhwb3J0VmFyaWFibGVxAH4ABEwAB3BheWxvYWRxAH4ABHhwAQEBAQEBAQEBAQEBAQEBAXQAGCR7YWxsb3dlZF9jdXN0b21fY2xhaW1zfXQABGRpZHR0AA4ke2p3dC5wYXlsb2FkfXQAGk9wZW5JRENvbm5lY3RBc3NlcnRpb24uamFydAAuRGVjb2RlcyBhbiBJRCBUb2tlbiBwYXNzZWQgaW4gYXMgSlNPTiBtZXNzYWdlLnBwcA==</L7p:base64SerializedValue>\n                                    </L7p:CustomAssertion>\n                                    <L7p:Include>\n                                    <L7p:PolicyGuid stringValue=\"d881a6b7-113c-4688-8a9c-17f5c0426972\"/>\n                                    <L7p:PolicyName stringValue=\"#OTK id_token Validate Custom Claims\"/>\n                                    </L7p:Include>\n                                    <wsp:OneOrMore wsp:Usage=\"Required\">\n                                    <wsp:All wsp:Usage=\"Required\">\n                                    <L7p:ComparisonAssertion>\n                                    <L7p:Expression1 stringValue=\"${didt.aud}\"/>\n                                    <L7p:Expression2 stringValue=\"${client_id_icp}\"/>\n                                    <L7p:Predicates predicates=\"included\">\n                                    <L7p:item binary=\"included\">\n\n                                    <L7p:RightValue stringValue=\"${client_id_icp}\"/>\n                                    </L7p:item>\n                                    </L7p:Predicates>\n                                    </L7p:ComparisonAssertion>\n                                    <L7p:SetVariable>\n\n                                    <L7p:Base64Expression stringValue=\"dmFsaWQ=\"/>\n                                    <L7p:VariableToSet stringValue=\"verified\"/>\n                                    </L7p:SetVariable>\n                                    </wsp:All>\n                                    <L7p:SetVariable>\n                                    <L7p:Base64Expression stringValue=\"aW52YWxpZA==\"/>\n                                    <L7p:VariableToSet stringValue=\"verified\"/>\n                                    </L7p:SetVariable>\n                                    </wsp:OneOrMore>\n                                    <L7p:SetVariable>\n                                    <L7p:Base64Expression stringValue=\"JHtpZF90b2tlbn0=\"/>\n                                    <L7p:VariableToSet stringValue=\"idToken_display\"/>\n                                    </L7p:SetVariable>\n                                    <L7p:Regex>\n                                    <L7p:AutoTarget booleanValue=\"false\"/>\n\n                                    <L7p:OtherTargetMessageVariable stringValue=\"idToken_display\"/>\n                                    <L7p:Regex stringValue=\"[.]\"/>\n                                    <L7p:Replace booleanValue=\"true\"/>\n                                    <L7p:Replacement stringValue=\".&lt;br>\"/>\n                                    <L7p:Target target=\"OTHER\"/>\n                                    </L7p:Regex>\n                                    <L7p:SetVariable>\n                                    <L7p:Base64Expression stringValue=\"PHRhYmxlPg0KICAgIDx0cj48dGg+UGFyYW1ldGVyPC90aD48dGg+VmFsdWU8L3RoPjx0aD5Db21tZW50PC90aD48L3RyPg0KICAgIDx0cj48dGQ+aWRfdG9rZW48L3RkPjx0ZD4ke2lkVG9rZW5fZGlzcGxheX08L3RkPjx0ZD5UaGlzIGlzIHRoZSwgaGF2ZSBhIGd1ZXNzIC4uLiBpZF90b2tlbiAobGluZSBicmVha3MganVzdCBmb3IgZGlzcGxheSk8L3RkPjwvdHI+DQo8L3RhYmxlPg0KPHA+PGI+SW1wb3J0YW50OjwvYj4gVGhlIGNsaWVudCBoYXMgdG8gdmVyaWZ5IHRoZSBjb250ZW50IG9mIHRoZSBJRF9UT0tFTiBhbmQgbm90IHVzZSBpZiB0aGUgdmVyaWZpY2F0aW9uIGZhaWxzITwvcD4NCjxwPlRoZSBpZF90b2tlbiBwYXlsb2FkIGxvb2tzIGxpa2UgdGhpczo8L3A+DQo8cHJlPiR7and0LnBheWxvYWR9PC9wcmU+DQo8b2w+DQogICAgPGxpPlZlcmlmeSB0aGUgSURfVE9LRU4gbWVtYmVyICdhdWQnLiBJdCBtdXN0IGJlIHRoZSBjbGllbnRfaWQ8L2xpPg0KICAgIDxsaT5WZXJpZnkgdGhlIElEX1RPS0VOIG1lbWJlciAnZXhwJy4gSXQgbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIHRpbWUgJ25vdycgaW4gVVRDIHRpbWV6b25lPC9saT4NCiAgICA8bGk+TW9yZSB2ZXJpZmljYXRpb25zIGFyZSBvcHRpb25hbDwvbGk+DQo8L29sPg0KPHA+PGI+VmVyaWZpY2F0aW9uIHJlc3VsdDogJHt2ZXJpZmllZH08L2I+PC9wPg0KPHA+PGI+QWRkaXRpb25hbCBzaWduYXR1cmUgdmFsaWRhdGlvbjogdmFsaWQ8L2I+PC9wPg==\"/>\n                                    <L7p:VariableToSet stringValue=\"idTokenIssued\"/>\n                                    </L7p:SetVariable>\n                                    </wsp:All>\n                                    <L7p:SetVariable>\n                                    <L7p:Base64Expression stringValue=\"PHA+PGI+Tm8gSURfVE9LRU4gd2FzIGlzc3VlZDwvYj4uIFRoZXJlIGFyZSBzZXZlcmFsIHBvc3NpYmxlIHJlYXNvbnMgZm9yIHRoYXQ6PC9wPg0KPG9sPg0KPGxpPnRoZSB1c2VyIGRpZCBub3QgZ3JhbnQgaXQ8L2xpPg0KPGxpPnRoZSByZXF1ZXN0ZWQgcmVzcG9uc2VfdHlwZSBkaWQgbm90IGluY2x1ZGUgJ2lkX3Rva2VuJzwvbGk+DQo8bGk+dGhlIGNsaWVudCB3YXMgbm90IHJlZ2lzdGVyZWQgYXMgYSB2YWxpZCBPcGVuSUQgQ29ubmVjdCBjbGllbnQ8L2xpPg0KPC9vbD4=\"/>\n                                    <L7p:VariableToSet stringValue=\"idTokenIssued\"/>\n                                    </L7p:SetVariable>\n                                </wsp:OneOrMore>\n                                <L7p:SetVariable>\n                                    <L7p:Base64Expression stringValue=\"PHA+VGhlIGNsaWVudCBoYXMgcmVjZWl2ZWQgdGhlIHRva2VucyBkaXJlY3RseSBhZnRlciB0aGUgdXNlciBncmFudGVkIGFjY2VzcyB0byBoaXMgcmVzb3VyY2VzLjwvcD4NCjxwPlRoZXNlIHZhbHVlcyB3ZXJlIHJlY2VpdmVkIHdpdGhpbiB0aGUgVVJMOjwvcD4NCjx0YWJsZT4NCiAgICA8dHI+PHRoPlBhcmFtZXRlcjwvdGg+PHRoPlZhbHVlPC90aD48dGg+Q29tbWVudDwvdGg+PC90cj4NCiAgICA8dHI+PHRkPmFjY2Vzc190b2tlbjwvdGQ+PHRkPiR7YWNjZXNzX3Rva2VufTwvdGQ+PHRkPlRoaXMgaXMgdGhlLCBoYXZlIGEgZ3Vlc3MgLi4uIGFjY2Vzc190b2tlbjwvdGQ+PC90cj4NCiAgICA8dHI+PHRkPnNjb3BlPC90ZD48dGQ+JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnNjb3BlfTwvdGQ+PHRkPlRoZSBncmFudGVkIGFuZCBhY2NlcHRlZCBzY29wZSBmb3IgdGhpcyB0b2tlbjwvdGQ+PC90cj4NCiAgICA8dHI+PHRkPmV4cGlyZXNfaW48L3RkPjx0ZD4ke3JlcXVlc3QuaHR0cC5wYXJhbWV0ZXIuZXhwaXJlc19pbn08L3RkPjx0ZD5UaGUgZXhwaXJhdGlvbiBkYXRlIGZvciB0aGlzIHRva2VuPC90ZD48L3RyPg0KICAgIDx0cj48dGQ+dG9rZW5fdHlwZTwvdGQ+PHRkPiR7cmVxdWVzdC5odHRwLnBhcmFtZXRlci50b2tlbl90eXBlfTwvdGQ+PHRkPlRoZSBleHBpcmF0aW9uIGRhdGUgZm9yIHRoaXMgY2xpZW50PC90ZD48L3RyPg0KICAgIDx0cj48dGQ+c3RhdGU8L3RkPjx0ZD4ke3JlcXVlc3QuaHR0cC5wYXJhbWV0ZXIuc3RhdGV9PC90ZD48dGQ+VGhlIHZhbHVlIHRoYXQgd2FzIHNlbnQgYnkgdGhlIGNsaWVudDwvdGQ+PC90cj4NCjwvdGFibGU+DQoke2lkVG9rZW5Jc3N1ZWR9DQo8cD5UaGUgaW5jbHVkZWQgdG9rZW5zIGNhbiBub3cgYmUgdXNlZCB0byBhY2Nlc3MgdGhlIHVzZXJzIHJlc291cmNlcyBvciB0aGUgJy91c2VyaW5mbycgZW5kcG9pbnQgdG8gcmVxdWVzdCBjbGFpbXMgYWJvdXQgdGhlIHVzZXIuPC9wPg0KPHA+Qm90aCByZXF1ZXN0cyB3aWxsIHVzZSBIVFRQICdQT1NUJyBhbmQgdGhlIHBhcmFtZXRlciAnYWNjZXNzX3Rva2VuJyB3aGljaCwgb2YgY291cnNlLCBpbmNsdWRlcyB0aGUgYWNjZXNzIHRva2VuLjwvcD4NCjxwPjxiPkFjY2Vzc190b2tlbjo8L2I+ICR7YWNjZXNzX3Rva2VufTwvcD4NCjxwPkdvIGFoZWFkIGFuZCB0cnkgaXQgb3V0OjwvcD4NCjxmb3JtIGFjdGlvbj0iJHtsb2NhdGlvbl9hcHB9IiB0YXJnZXQ9InJlc3VsdCIgbWV0aG9kPSJQT1NUIj4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhY2Nlc3NfdG9rZW4iIHZhbHVlPSIke2FjY2Vzc190b2tlbn0iPg0KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InN0YXRlIiB2YWx1ZT0icHIiPg0KICAgIFJlcXVlc3QgcmVzb3VyY2VzOiA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iUmVzb3VyY2VzIj4gKCR7bG9jYXRpb25fcmVzb3VyY2VlbmRwb2ludH0pDQo8L2Zvcm0+DQo8cD5UbyBhY2Nlc3MgdGhlIC91c2VyaW5mbyBlbmRvcG9pbnQgdGhlIGFkZGl0aW9uYWwgcGFyYW1ldGVyLXZhbHVlIHBhaXIgJ3NjaGVtYT1vcGVuaWQnIGlzIHJlcXVpcmVkITwvcD4NCjxmb3JtIGFjdGlvbj0iJHtsb2NhdGlvbl91c2VyaW5mb2VuZHBvaW50fSIgdGFyZ2V0PSJyZXN1bHQiIG1ldGhvZD0iUE9TVCI+DQogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic2NoZW1hIiB2YWx1ZT0ib3BlbmlkIj4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhY2Nlc3NfdG9rZW4iIHZhbHVlPSIke2FjY2Vzc190b2tlbn0iPg0KICAgIFJlcXVlc3QgdXNlciBjbGFpbXM6IDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJDbGFpbXMiPiAoJHtsb2NhdGlvbl91c2VyaW5mb2VuZHBvaW50fSkNCjwvZm9ybT4NCjxwPlJlc3VsdCBhZnRlciBhY2Nlc3NpbmcgcmVzb3VyY2VzIG9yIHRoZSB1c2VyaW5mbyBlbmRwb2ludDo8L3A+DQo8aWZyYW1lIGlkPSJyZXN1bHQiIG5hbWU9InJlc3VsdCIgd2lkdGg9IjYwMCI+PC9pZnJhbWU+DQo8cD5UaGF0J3MgaXQhIElmIHlvdSB3YW50IHRvIGRvIGl0IGFnYWluLCBjbGljayBoZXJlOiA8YSBocmVmPSIke2xvY2F0aW9uX2FwcH0iPkFHQUlOPC9hPjwvcD4=\"/>\n                                    <L7p:ContentType stringValue=\"text/html;charset=UTF-8\"/>\n                                    <L7p:DataType variableDataType=\"message\"/>\n                                    <L7p:VariableToSet stringValue=\"tokenResult\"/>\n                                </L7p:SetVariable>\n                                <L7p:UUIDGenerator>\n                                    <L7p:MaximumQuantity intValue=\"1\"/>\n                                    <L7p:TargetVariable stringValue=\"key\"/>\n                                </L7p:UUIDGenerator>\n                                <L7p:Encapsulated>\n                                    <L7p:EncapsulatedAssertionConfigGuid stringValue=\"dd360775-0fec-47db-8b45-059d995b262d\"/>\n                                    <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK Session - Store\"/>\n                                    <L7p:Parameters mapValue=\"included\">\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheAge\"/>\n                                    <L7p:value stringValue=\"300\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheId\"/>\n                                    <L7p:value stringValue=\"tokenResult\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheKey\"/>\n                                    <L7p:value stringValue=\"${key[0]}\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheMaxEntries\"/>\n                                    <L7p:value stringValue=\"1000\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"cacheMaxSize\"/>\n                                    <L7p:value stringValue=\"\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"dbAge\"/>\n                                    <L7p:value stringValue=\"300\"/>\n                                    </L7p:entry>\n                                    <L7p:entry>\n                                    <L7p:key stringValue=\"value\"/>\n                                    <L7p:value stringValue=\"${tokenResult.mainpart}\"/>\n                                    </L7p:entry>\n                                    </L7p:Parameters>\n                                </L7p:Encapsulated>\n                                <L7p:HardcodedResponse>\n                                    <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                                    <L7p:ResponseStatus stringValue=\"302\"/>\n                                </L7p:HardcodedResponse>\n                                <L7p:AddHeader>\n                                    <L7p:HeaderName stringValue=\"Location\"/>\n                                    <L7p:HeaderValue stringValue=\"${location_app}?state=view&amp;code=${key[0]}\"/>\n                                    <L7p:RemoveExisting booleanValue=\"true\"/>\n                                    <L7p:Target target=\"RESPONSE\"/>\n                                </L7p:AddHeader>\n                            </wsp:All>\n                            <L7p:HardcodedResponse>\n                                <L7p:Base64ResponseBody stringValue=\"JHtodG1sVGVtcGxhdGVUb3B9DQo8aDE+R3JhbnQgdHlwZTogSW1wbGljaXQgd2l0aCBPcGVuSUQgQ29ubmVjdDwvaDE+CjxwPlNvcnJ5LCBidXQgdGhlIGFjY2Vzc190b2tlbiBoYXMgYmVlbiBwcm9jZXNzZWQgYWxyZWFkeS48L3A+DQo8cD48YSBocmVmPSIke2xvY2F0aW9uX2FwcH0iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPlJlcGVhdCBSZXF1ZXN0PC9hPjwvcD4NCiR7aHRtbFRlbXBsYXRlQm90dG9tfQ==\"/>\n                                <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                            </L7p:HardcodedResponse>\n                        </wsp:OneOrMore>\n                        <L7p:assertionComment>\n                            <L7p:Properties mapValue=\"included\">\n                                <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"GRANTED\"/>\n                                </L7p:entry>\n                            </L7p:Properties>\n                        </L7p:assertionComment>\n                    </wsp:All>\n                    <wsp:All wsp:Usage=\"Required\">\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${request.http.parameter.state}\"/>\n                            <L7p:Expression2 stringValue=\"init\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:RightValue stringValue=\"init\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"Y2FsbA==\"/>\n                            <L7p:VariableToSet stringValue=\"state\"/>\n                        </L7p:SetVariable>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"client_id_icp\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"client_id\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"scope\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"scope\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"oauth2_resource\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"resource\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"response_type\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"response_type\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"redirect_uri\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"redirect_uri\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"display\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"display\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"prompt\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"prompt\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"state\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"state\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"request.http.parameter.nonce\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"nonce\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"Y2xpZW50X2lkPSR7Y2xpZW50X2lkfSZzY29wZT0ke3Njb3BlfSZyZXNwb25zZV90eXBlPSR7cmVzcG9uc2VfdHlwZX0mcmVkaXJlY3RfdXJpPSR7cmVkaXJlY3RfdXJpfSZkaXNwbGF5PSR7ZGlzcGxheX0mcHJvbXB0PSR7cHJvbXB0fSZzdGF0ZT0ke3N0YXRlfSZub25jZT0ke25vbmNlfSZyZXNvdXJjZT0ke3Jlc291cmNlfQ==\"/>\n                            <L7p:VariableToSet stringValue=\"authRequestParameters\"/>\n                        </L7p:SetVariable>\n                        <L7p:HardcodedResponse>\n                            <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                            <L7p:ResponseStatus stringValue=\"302\"/>\n                        </L7p:HardcodedResponse>\n                        <L7p:AddHeader>\n                            <L7p:HeaderName stringValue=\"Location\"/>\n                            <L7p:HeaderValue stringValue=\"${location_authserver}?${authRequestParameters}\"/>\n                            <L7p:RemoveExisting booleanValue=\"true\"/>\n                            <L7p:Target target=\"RESPONSE\"/>\n                        </L7p:AddHeader>\n                        <L7p:assertionComment>\n                            <L7p:Properties mapValue=\"included\">\n                                <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"Create auth-request and redirect client\"/>\n                                </L7p:entry>\n                            </L7p:Properties>\n                        </L7p:assertionComment>\n                    </wsp:All>\n                    <wsp:All wsp:Usage=\"Required\">\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnN0YXRlfQ==\"/>\n                            <L7p:VariableToSet stringValue=\"state\"/>\n                        </L7p:SetVariable>\n                        <L7p:ComparisonAssertion>\n                            <L7p:CaseSensitive booleanValue=\"false\"/>\n                            <L7p:Expression1 stringValue=\"${state}\"/>\n                            <L7p:Expression2 stringValue=\"\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:Predicates predicates=\"included\">\n                                <L7p:item binary=\"included\">\n                                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                                    <L7p:Operator operator=\"EMPTY\"/>\n                                    <L7p:RightValue stringValue=\"\"/>\n                                </L7p:item>\n                            </L7p:Predicates>\n                        </L7p:ComparisonAssertion>\n                        <L7p:SetVariable>\n                            <L7p:Base64Expression stringValue=\"aW5pdA==\"/>\n                            <L7p:VariableToSet stringValue=\"state\"/>\n                        </L7p:SetVariable>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"state\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"state\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:EncodeDecode>\n                            <L7p:SourceVariableName stringValue=\"gateway.time.HHssmmSSS\"/>\n                            <L7p:TargetDataType variableDataType=\"string\"/>\n                            <L7p:TargetVariableName stringValue=\"nonce\"/>\n                            <L7p:TransformType transformType=\"URL_ENCODE\"/>\n                        </L7p:EncodeDecode>\n                        <L7p:HardcodedResponse>\n                            <L7p:Base64ResponseBody stringValue=\"JHtodG1sVGVtcGxhdGVUb3B9DQo8aDE+R3JhbnQgdHlwZTogSW1wbGljaXQgd2l0aCBPcGVuSUQgQ29ubmVjdDwvaDE+CjxwPlRoaXMgY2xpZW50IGlzIGdvaW5nIHRvIHJlcXVlc3QgYW4gT0F1dGggMi4wIGFjY2Vzc190b2tlbiBhbmQgYW4gT3BlbklEIENvbm5lY3QgaWRfdG9rZW4uPC9wPg0KPHA+VGhlIGNsaWVudCBpcyB1c2luZyB0aGUgPGI+cmVzcG9uc2VfdHlwZT0ke3Jlc3BvbnNlX3R5cGV9PC9iPjwvcD4NCjxwPlRoaXMgY2xpZW50IGlzIGV4cG9zaW5nIHNvbWUgdmFsdWVzIE9OTFkgdG8gZGlzcGxheSB3aGF0IGlzIGdvaW5nIG9uIGJlaGluZCB0aGUgc2NlbmVzLiAnSGlkZGVuJyBpbiB0aGUgdGFibGUgYmVsb3cNCiAgICByZWZlcnMgdG8gdmFsdWVzIHRoYXQgc2hvdWxkIG5vdC8gZG8gbm90IGhhdmUgdG8gYmUgZXhwb3NlZCB0byB0aGUgdXNlci1hZ2VudCBpbiBhIHJlYWwtd29ybGQgc2NlbmFyaW8gYWx0aG91Z2ggaXQgbWF5IG5vdCBiZSBwb3NzaWJsZSB3aGVuIHVzaW5nIHRlY2hub2xvZ2llcyBsaWtlIEphdmFTY3JpcHQgdG8gaW1wbGVtZW50IHRoZSBjbGllbnQ8L3A+DQo8cD5Gb3IgYW55IG1vcmUgZGV0YWlscyBwbGVhc2UgcmVmZXIgdG8gdGhpcyB3ZWJzaXRlOiA8YSBocmVmPSJodHRwOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1pbXBsaWNpdC0xXzAuaHRtbCIgdGFyZ2V0PSJfYmxhbmsiPm9wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtaW1wbGljaXQtMV8wLmh0bWw8L2E+PC9wPg0KPHA+V2l0aCB0aGlzIHJlc3BvbnNlX3R5cGUgdGhlIGNsaWVudCBoYXMgdG8gYnVpbGQgdXAgYSByZXF1ZXN0IHVzaW5nIGZvbGxvd2luZyB2YWx1ZXM6PC9wPg0KPHRhYmxlIGNsYXNzPSJ0YWJsZS1zdHJpcGVkIHRhYmxlLWhvdmVyIj4NCiAgICA8dHI+PHRoPlBhcmFtZXRlcjwvdGg+PHRoPlZhbHVlPC90aD48dGg+UmVxdWlyZWQ8L3RoPjx0aD5IaWRkZW48L3RoPjx0aD5Db21tZW50PC90aD48L3RyPg0KICAgIDx0cj48dGQ+Y2xpZW50X2lkPC90ZD48dGQ+JHtjbGllbnRfaWRfaWNwfTwvdGQ+PHRkPlllczwvdGQ+PHRkPk5vPC90ZD48dGQ+TVVTVCBiZSBrbm93biBhdCB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXI8L3RkPjwvdHI+DQogICAgPHRyPjx0ZD5zY29wZTwvdGQ+PHRkPiR7c2NvcGV9PC90ZD48dGQ+WWVzPC90ZD48dGQ+Tm88L3RkPjx0ZD5NVVNUIGluY2x1ZGUgJ29wZW5pZCcgdG8gbWFrZSBpdCBhIHZhbGlkIE9wZW5JRCBDb25uZWN0IHJlcXVlc3Q8L3RkPjwvdHI+DQogICAgPHRyPjx0ZD5yZXNvdXJjZTwvdGQ+PHRkPiR7b2F1dGgyX3Jlc291cmNlfTwvdGQ+PHRkPk5vPC90ZD48dGQ+WWVzPC90ZD48dGQ+Rm9yIG9hdXRoIDIuMCwgdGhlIHJlc291cmNlcyBncmFudGVkIGluIHRoZSB0b2tlbjwvdGQ+PC90cj4KICAgIDx0cj48dGQ+cmVzcG9uc2VfdHlwZTwvdGQ+PHRkPiR7cmVzcG9uc2VfdHlwZX08L3RkPjx0ZD5ZZXM8L3RkPjx0ZD5ObzwvdGQ+PHRkPk1VU1QgY29udGFpbiAndG9rZW4nIGFuZCAnaWRfdG9rZW4nPC90ZD48L3RyPg0KICAgIDx0cj48dGQ+cmVkaXJlY3RfdXJpPC90ZD48dGQ+JHtyZWRpcmVjdF91cml9PC90ZD48dGQ+WWVzPC90ZD48dGQ+Tm88L3RkPjx0ZD5NVVNUIGJlIHByZS1yZWdpc3RlcmVkIHdpdGggdGhlIGF1dGhvcml6YXRpb24gc2VydmVyPC90ZD48L3RyPg0KICAgIDx0cj48dGQ+bm9uY2U8L3RkPjx0ZD4ke25vbmNlfTwvdGQ+PHRkPlllczwvdGQ+PHRkPk5vPC90ZD48dGQ+QSByYW5kb20gdmFsdWUgb3BhcXVlIHRvIHRoZSBzZXJ2ZXIuIEl0IGhhcyB0byBhcHBlYXIgd2l0aGluIGlkX3Rva2VuPC90ZD48L3RyPg0KICAgIDx0cj48dGQ+c3RhdGU8L3RkPjx0ZD4ke3N0YXRlfTwvdGQ+PHRkPk5vPC90ZD48dGQ+Tm88L3RkPjx0ZD5BIHZhbHVlIG9wYXF1ZSB0byB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXI7IHdpbGwgYmUgcGFzc2VkIGJhY2sgdG8gdGhlIGNsaWVudDwvdGQ+PC90cj4NCiAgICA8dHI+PHRkPmRpc3BsYXk8L3RkPjx0ZD4ke2Rpc3BsYXl9PC90ZD48dGQ+Tm88L3RkPjx0ZD5ObzwvdGQ+PHRkPlZhbGlkIHZhbHVlcyB0aGF0IHNwZWNpZnkgaG93IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciBzaG91bGQgZGlzcGxheSB0aGUgYXV0aG9yaXphdGlvbiBwYWdlOiAncGFnZSd8J3BvcHVwJ3wndG91Y2gnfCd3YXAnPC90ZD48L3RyPg0KICAgIDx0cj48dGQ+cHJvbXB0PC90ZD48dGQ+JHtwcm9tcHR9PC90ZD48dGQ+Tm88L3RkPjx0ZD5ObzwvdGQ+PHRkPlZhbGlkIHZhbHVlcyB0aGF0IHNwZWNpZnkgaWYgdGhlIGF1dGhvcml6YXRpb24gc2VydmVyIHNob3VsZCAocmUtKWF1dGhlbnRpY2F0ZSB0aGUgdXNlcjogJ25vbmUnfCdsb2dpbid8J2NvbnNlbnQnfCdzZWxlY3RfYWNjb3VudCc8L3RkPjwvdHI+DQo8L3RhYmxlPg0KPGJyLz4NCjxwPlRoZSBjbGllbnQgaXMgc2VuZGluZyB0aGUgcmVxdWVzdCB0byB0aGlzIGF1dGhvcml6YXRpb24gc2VydmVyIHVzaW5nIEhUVFAgJ0dFVCc6PC9wPjxwcmU+JHtsb2NhdGlvbl9hdXRoc2VydmVyfTwvcHJlPg0KPGJyLz4NCjxwPlRoZSBwYXJhbWV0ZXIgdmFsdWVzIG11c3QgYmUgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgZW5jb2RlZDo8L3A+DQo8Zm9ybSBhY3Rpb249IiR7bG9jYXRpb25fYXBwfSI+DQogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic3RhdGUiIHZhbHVlPSJpbml0Ii8+DQogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibm9uY2UiIHZhbHVlPSIke25vbmNlfSIvPg0KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InJlc291cmNlIiAgdmFsdWU9IiR7b2F1dGgyX3Jlc291cmNlfSIvPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiB0eXBlPSJzdWJtaXQiIG5hbWU9InNlbmQiIHZhbHVlPSJzZW5kIj5TZW5kPC9idXR0b24+DQo8L2Zvcm0+DQo8YnIvPg0KPHA+KFdoZW4geW91IGhpdCB0aGUgJ3NlbmQnIGJ1dHRvbiB0aGlzIHVzZXItYWdlbnQgc2VuZHMgYSByZXF1ZXN0IHRvIHRoZSBjbGllbnQsIHRoZSBjbGllbnQgcHJlcGFyZXMgdGhlIGF1dGhvcml6YXRpb24gcmVxdWVzdCBhbmQgZGlyZWN0cyB0aGlzIHVzZXItYWdlbnQgdG8gdGhlIHNlcnZlciBsb2NhdGlvbiB1c2luZyBhIHJlZGlyZWN0KTwvcD4NCiR7aHRtbFRlbXBsYXRlQm90dG9tfQ==\"/>\n                            <L7p:ResponseContentType stringValue=\"text/html;charset=UTF-8\"/>\n                        </L7p:HardcodedResponse>\n                        <L7p:assertionComment>\n                            <L7p:Properties mapValue=\"included\">\n                                <L7p:entry>\n                                    <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                                    <L7p:value stringValue=\"INITIAL\"/>\n                                </L7p:entry>\n                            </L7p:Properties>\n                        </L7p:assertionComment>\n                    </wsp:All>\n                </wsp:OneOrMore>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                            <L7p:value stringValue=\"Implicit Client Profile\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                            <L7p:value stringValue=\"response_type=token id_token\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:All>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>"
  }
}