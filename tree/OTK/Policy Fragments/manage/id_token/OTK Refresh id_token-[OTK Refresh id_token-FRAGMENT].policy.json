{
  "goid": "47963e23ed8432b1b746d01fd47e0d6c",
  "guid": "6ceacef9-5f9f-479b-a6d9-cfbf1b7e8a6c",
  "name": "OTK Refresh id_token",
  "policyType": "FRAGMENT",
  "checksum": "2eb3c8f9974755e0a57e2fd07fb9362530fbd4c9",
  "folderPath": "/OTK/Policy Fragments/manage/id_token",
  "soap": false,
  "policy": {
    "xml": "<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"Policy Fragment: OTK Refresh id_token\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\" ============================================\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\" === ***  THIS POLICY IS READ ONLY ***\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\" ============================================\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"This policy contains logic to refresh an id_token\"/>\n        </L7p:CommentAssertion>\n        <wsp:All wsp:Usage=\"Required\">\n            <L7p:CommentAssertion>\n                <L7p:Comment stringValue=\"Lookup existing id_token for the resource_owner\"/>\n            </L7p:CommentAssertion>\n            <L7p:Encapsulated>\n                <L7p:EncapsulatedAssertionConfigGuid stringValue=\"bf601700-d7eb-47a3-b868-ff4a746d8a63\"/>\n                <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK Configured Grant Types\"/>\n            </L7p:Encapsulated>\n            <L7p:Encapsulated>\n                <L7p:EncapsulatedAssertionConfigGuid stringValue=\"755e056d-fe4a-440c-81ac-cc76dfd58899\"/>\n                <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK id_token Lookup\"/>\n                <L7p:Parameters mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"azp\"/>\n                        <L7p:value stringValue=\"${client_key}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"custom\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"format\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"jwt\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"resource_owner\"/>\n                        <L7p:value stringValue=\"${owner}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"sub\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                </L7p:Parameters>\n            </L7p:Encapsulated>\n            <L7p:CommentAssertion>\n                <L7p:Comment stringValue=\"Extract id_token properties\"/>\n            </L7p:CommentAssertion>\n            <L7p:ResponseXpathAssertion>\n                <L7p:VariablePrefix stringValue=\"xpathResourceOwner\"/>\n                <L7p:XmlMsgSrc stringValue=\"resp\"/>\n                <L7p:XpathExpression xpathExpressionValue=\"included\">\n                    <L7p:Expression stringValue=\"/ns:values/ns:value/ns:resource_owner/text()\"/>\n                    <L7p:Namespaces mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"ns\"/>\n                            <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-tokenstore\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"s\"/>\n                            <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                        </L7p:entry>\n                    </L7p:Namespaces>\n                    <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n                </L7p:XpathExpression>\n            </L7p:ResponseXpathAssertion>\n            <L7p:ResponseXpathAssertion>\n                <L7p:VariablePrefix stringValue=\"xpathSharedSecret\"/>\n                <L7p:XmlMsgSrc stringValue=\"resp\"/>\n                <L7p:XpathExpression xpathExpressionValue=\"included\">\n                    <L7p:Expression stringValue=\"/ns:values/ns:value/ns:shared_secret/text()\"/>\n                    <L7p:Namespaces mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"ns\"/>\n                            <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-tokenstore\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"s\"/>\n                            <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                        </L7p:entry>\n                    </L7p:Namespaces>\n                    <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n                </L7p:XpathExpression>\n            </L7p:ResponseXpathAssertion>\n            <L7p:ResponseXpathAssertion>\n                <L7p:VariablePrefix stringValue=\"xpathAzp\"/>\n                <L7p:XmlMsgSrc stringValue=\"resp\"/>\n                <L7p:XpathExpression xpathExpressionValue=\"included\">\n                    <L7p:Expression stringValue=\"/ns:values/ns:value/ns:azp/text()\"/>\n                    <L7p:Namespaces mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"ns\"/>\n                            <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-tokenstore\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"s\"/>\n                            <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                        </L7p:entry>\n                    </L7p:Namespaces>\n                    <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n                </L7p:XpathExpression>\n            </L7p:ResponseXpathAssertion>\n            <L7p:ResponseXpathAssertion>\n                <L7p:VariablePrefix stringValue=\"xpathSalt\"/>\n                <L7p:XmlMsgSrc stringValue=\"resp\"/>\n                <L7p:XpathExpression xpathExpressionValue=\"included\">\n                    <L7p:Expression stringValue=\"/ns:values/ns:value/ns:salt/text()\"/>\n                    <L7p:Namespaces mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"ns\"/>\n                            <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-tokenstore\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"s\"/>\n                            <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                        </L7p:entry>\n                    </L7p:Namespaces>\n                    <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n                </L7p:XpathExpression>\n            </L7p:ResponseXpathAssertion>\n            <wsp:OneOrMore wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${shared_secret}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"string\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:Negated booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:RightValue stringValue=\"\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"JHt4cGF0aFNoYXJlZFNlY3JldC5yZXN1bHR9\"/>\n                    <L7p:VariableToSet stringValue=\"shared_secret\"/>\n                </L7p:SetVariable>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                            <L7p:value stringValue=\"// shared_secret\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:OneOrMore>\n            <wsp:OneOrMore wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${resource_owner}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"string\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:Negated booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:RightValue stringValue=\"\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"JHt4cGF0aFJlc291cmNlT3duZXIucmVzdWx0fQ==\"/>\n                    <L7p:VariableToSet stringValue=\"resource_owner\"/>\n                </L7p:SetVariable>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                            <L7p:value stringValue=\"// resource_owner\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:OneOrMore>\n            <wsp:OneOrMore wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${azp}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"string\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:Negated booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:RightValue stringValue=\"\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"JHt4cGF0aEF6cC5yZXN1bHR9\"/>\n                    <L7p:VariableToSet stringValue=\"azp\"/>\n                </L7p:SetVariable>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                            <L7p:value stringValue=\"// azp\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:OneOrMore>\n            <wsp:OneOrMore wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:CaseSensitive booleanValue=\"false\"/>\n                    <L7p:Expression1 stringValue=\"${salt}\"/>\n                    <L7p:Operator operatorNull=\"null\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item dataType=\"included\">\n                            <L7p:Type variableDataType=\"string\"/>\n                        </L7p:item>\n                        <L7p:item binary=\"included\">\n                            <L7p:Negated booleanValue=\"true\"/>\n                            <L7p:Operator operator=\"EMPTY\"/>\n                            <L7p:RightValue stringValue=\"\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"JHt4cGF0aFNhbHQucmVzdWx0fQ==\"/>\n                    <L7p:VariableToSet stringValue=\"salt\"/>\n                </L7p:SetVariable>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                            <L7p:value stringValue=\"// salt\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:OneOrMore>\n            <L7p:ResponseXpathAssertion>\n                <L7p:VariablePrefix stringValue=\"xpathIdtokenJwtExpression\"/>\n                <L7p:XmlMsgSrc stringValue=\"resp\"/>\n                <L7p:XpathExpression xpathExpressionValue=\"included\">\n                    <L7p:Expression stringValue=\"/ns:values/ns:value/ns:jwt/text()\"/>\n                    <L7p:Namespaces mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"ns\"/>\n                            <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-tokenstore\"/>\n                        </L7p:entry>\n                        <L7p:entry>\n                            <L7p:key stringValue=\"s\"/>\n                            <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                        </L7p:entry>\n                    </L7p:Namespaces>\n                    <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n                </L7p:XpathExpression>\n            </L7p:ResponseXpathAssertion>\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"ImlkX3Rva2VuIiA6ICIke3hwYXRoSWR0b2tlbkp3dEV4cHJlc3Npb24ucmVzdWx0fSIs\"/>\n                <L7p:VariableToSet stringValue=\"old_id_token\"/>\n            </L7p:SetVariable>\n            <L7p:Regex>\n                <L7p:AutoTarget booleanValue=\"false\"/>\n                <L7p:CaptureVar stringValue=\"jwt.payload\"/>\n                <L7p:IncludeEntireExpressionCapture booleanValue=\"false\"/>\n                <L7p:OtherTargetMessageVariable stringValue=\"old_id_token\"/>\n                <L7p:Regex stringValue=\".[.](.+)[.]\"/>\n                <L7p:RegexName stringValue=\"extract payload from JWT\"/>\n                <L7p:Replacement stringValue=\"\"/>\n                <L7p:Target target=\"OTHER\"/>\n            </L7p:Regex>\n            <L7p:EncodeDecode>\n                <L7p:SourceVariableName stringValue=\"jwt.payload\"/>\n                <L7p:TargetDataType variableDataType=\"string\"/>\n                <L7p:TargetVariableName stringValue=\"jwt.payload\"/>\n                <L7p:TransformType transformType=\"BASE64_DECODE\"/>\n            </L7p:EncodeDecode>\n            <L7p:CommentAssertion>\n                <L7p:Comment stringValue=\"Lookup id_token claims\"/>\n            </L7p:CommentAssertion>\n            <L7p:CustomAssertion>\n                <L7p:base64SerializedValue>rO0ABXNyADFjb20ubDd0ZWNoLnBvbGljeS5hc3NlcnRpb24uQ3VzdG9tQXNzZXJ0aW9uSG9sZGVyZtcreFwddTICAAlaAAxpc1VpQXV0b09wZW5MAApjYXRlZ29yaWVzdAAPTGphdmEvdXRpbC9TZXQ7TAAIY2F0ZWdvcnl0ACpMY29tL2w3dGVjaC9wb2xpY3kvYXNzZXJ0aW9uL2V4dC9DYXRlZ29yeTtMAA9jdXN0b21Bc3NlcnRpb250ADFMY29tL2w3dGVjaC9wb2xpY3kvYXNzZXJ0aW9uL2V4dC9DdXN0b21Bc3NlcnRpb247TAAUY3VzdG9tTW9kdWxlRmlsZU5hbWV0ABJMamF2YS9sYW5nL1N0cmluZztMAA9kZXNjcmlwdGlvblRleHRxAH4ABEwAD3BhbGV0dGVOb2RlTmFtZXEAfgAETAAOcG9saWN5Tm9kZU5hbWVxAH4ABEwAHnJlZ2lzdGVyZWRDdXN0b21GZWF0dXJlU2V0TmFtZXEAfgAEeHIAJWNvbS5sN3RlY2gucG9saWN5LmFzc2VydGlvbi5Bc3NlcnRpb27bX2OZPL2isQIAAloAB2VuYWJsZWRMABBhc3NlcnRpb25Db21tZW50dAAvTGNvbS9sN3RlY2gvcG9saWN5L2Fzc2VydGlvbi9Bc3NlcnRpb24kQ29tbWVudDt4cAFwAXNyABFqYXZhLnV0aWwuSGFzaFNldLpEhZWWuLc0AwAAeHB3DAAAAAI/QAAAAAAAAXNyAChjb20ubDd0ZWNoLnBvbGljeS5hc3NlcnRpb24uZXh0LkNhdGVnb3J5WrCcZaFE/jUCAAJJAAVteUtleUwABm15TmFtZXEAfgAEeHAAAAAHdAAfTWVzc2FnZVZhbGlkYXRpb25UcmFuc2Zvcm1hdGlvbnhwc3IARGNvbS5sN3RlY2guY3VzdG9tLm9wZW5pZGNvbm5lY3QuRGVjb2RlSURUb2tlbi5JRFRva2VuRGVjb2RlQXNzZXJ0aW9uxl6qBXO//LkCABNaAAlleHBvcnRBY3JaAAlleHBvcnRBbGxaAAxleHBvcnRBdEhhc2haAAlleHBvcnRBdWRaAA5leHBvcnRBdXRoVGltZVoACWV4cG9ydEF6cFoAC2V4cG9ydENIYXNoWgAQZXhwb3J0RXhwaXJhdGlvbloACWV4cG9ydElhdFoACWV4cG9ydElzc1oAC2V4cG9ydE5vbmNlWgARZXhwb3J0T3RoZXJDbGFpbXNaAAtleHBvcnRTSGFzaFoACWV4cG9ydFN1YloADnZhbGlkYXRlQ2xhaW1zWgASdmFsaWRhdGVFeHBpcmF0aW9uTAATYWxsb3dlZEN1c3RvbUNsYWltc3EAfgAETAAOZXhwb3J0VmFyaWFibGVxAH4ABEwAB3BheWxvYWRxAH4ABHhwAQEBAQEBAQEBAQEAAAEBAXB0AARkaWR0dAAOJHtqd3QucGF5bG9hZH10AB9PcGVuSURDb25uZWN0QXNzZXJ0aW9uLWI3NTMuamFydAAuRGVjb2RlcyBhbiBJRCBUb2tlbiBwYXNzZWQgaW4gYXMgSlNPTiBtZXNzYWdlLnBwcA==</L7p:base64SerializedValue>\n            </L7p:CustomAssertion>\n            <L7p:CommentAssertion>\n                <L7p:Comment stringValue=\"Delete existing id_token\"/>\n            </L7p:CommentAssertion>\n            <L7p:Encapsulated>\n                <L7p:EncapsulatedAssertionConfigGuid stringValue=\"6a67ab61-838c-4e22-81ea-ca319d633a5e\"/>\n                <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK id_token Remove\"/>\n                <L7p:Parameters mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"azp\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"custom\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"jwt\"/>\n                        <L7p:value stringValue=\"${xpathIdtokenJwtExpression.result}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"logout_apps\"/>\n                        <L7p:value stringValue=\"false\"/>\n                    </L7p:entry>\n                </L7p:Parameters>\n            </L7p:Encapsulated>\n            <L7p:CommentAssertion>\n                <L7p:Comment stringValue=\"Generate &amp; persist id_token with the same claims\"/>\n            </L7p:CommentAssertion>\n            <L7p:Encapsulated>\n                <L7p:EncapsulatedAssertionConfigGuid stringValue=\"4eea3ccc-feaf-4ba7-9c92-48f06db76d62\"/>\n                <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK id_token Generation\"/>\n                <L7p:Parameters mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"access_token\"/>\n                        <L7p:value stringValue=\"${at_token}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"acr\"/>\n                        <L7p:value stringValue=\"${didt.acr}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"authTime\"/>\n                        <L7p:value stringValue=\"${didt.auth_time}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"azp\"/>\n                        <L7p:value stringValue=\"${azp}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"client_id\"/>\n                        <L7p:value stringValue=\"${client_key}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"code\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"custom\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"nonce\"/>\n                        <L7p:value stringValue=\"${didt.nonce}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"resource_owner\"/>\n                        <L7p:value stringValue=\"${resource_owner}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"response_type\"/>\n                        <L7p:value stringValue=\"refresh_id_token\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"salt\"/>\n                        <L7p:value stringValue=\"${salt}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"shared_secret\"/>\n                        <L7p:value stringValue=\"${shared_secret}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"skipHashClaims\"/>\n                        <L7p:value stringValue=\"true\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"state\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"third_party_sso_token\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"third_party_sso_token_type\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                </L7p:Parameters>\n            </L7p:Encapsulated>\n            <L7p:Encapsulated>\n                <L7p:EncapsulatedAssertionConfigGuid stringValue=\"0074476e-2de7-4c63-bad3-ef658035dce9\"/>\n                <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK id_token Persist\"/>\n                <L7p:Parameters mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"azp\"/>\n                        <L7p:value stringValue=\"${azp}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"custom\"/>\n                        <L7p:value stringValue=\"\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"iss\"/>\n                        <L7p:value stringValue=\"${iss}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"jwt\"/>\n                        <L7p:value stringValue=\"${jwt}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"resource_owner\"/>\n                        <L7p:value stringValue=\"${resource_owner}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"salt\"/>\n                        <L7p:value stringValue=\"${salt}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"shared_secret\"/>\n                        <L7p:value stringValue=\"${shared_secret}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"shared_secret_type\"/>\n                        <L7p:value stringValue=\"${alg}\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"sub\"/>\n                        <L7p:value stringValue=\"${sub}\"/>\n                    </L7p:entry>\n                </L7p:Parameters>\n            </L7p:Encapsulated>\n            <L7p:ExportVariables>\n                <L7p:ExportedVars stringArrayValue=\"included\">\n                    <L7p:item stringValue=\"jwt\"/>\n                </L7p:ExportedVars>\n            </L7p:ExportVariables>\n        </wsp:All>\n    </wsp:All>\n</wsp:Policy>"
  }
}