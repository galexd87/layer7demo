{
  "goid": "6739370b5f78f5d0126041fd5adb206f",
  "guid": "335d907a-8c68-4f46-b146-1298929dd738",
  "name": "#OTK Validate Subject Token (id_token)",
  "policyType": "FRAGMENT",
  "checksum": "11777167db55e0b350f4c2ac08e38285bd87c0c2",
  "folderPath": "/OTK/Customizations",
  "soap": false,
  "policy": {
    "xml": "<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"Policy Fragment: #OTK Validate Subject Token (id_token)\"/>\n        </L7p:CommentAssertion>\n        <L7p:Encapsulated>\n            <L7p:EncapsulatedAssertionConfigGuid stringValue=\"f330bc51-c1fb-44bd-a07a-93baf86adad2\"/>\n            <L7p:EncapsulatedAssertionConfigName stringValue=\"OTK id_token Validation\"/>\n            <L7p:Parameters mapValue=\"included\">\n                <L7p:entry>\n                    <L7p:key stringValue=\"azp\"/>\n                    <L7p:value stringValue=\"\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"check_expiration\"/>\n                    <L7p:value stringValue=\"true\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"custom\"/>\n                    <L7p:value stringValue=\"\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"jwt\"/>\n                    <L7p:value stringValue=\"${subject_token}\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"resource_owner\"/>\n                    <L7p:value stringValue=\"\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"salt\"/>\n                    <L7p:value stringValue=\"\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"shared_secret\"/>\n                    <L7p:value stringValue=\"\"/>\n                </L7p:entry>\n                <L7p:entry>\n                    <L7p:key stringValue=\"shared_secret_alg\"/>\n                    <L7p:value stringValue=\"\"/>\n                </L7p:entry>\n            </L7p:Parameters>\n        </L7p:Encapsulated>\n        <L7p:ResponseXpathAssertion>\n            <L7p:VariablePrefix stringValue=\"xpathSubject\"/>\n            <L7p:XmlMsgSrc stringValue=\"resp\"/>\n            <L7p:XpathExpression xpathExpressionValue=\"included\">\n                <L7p:Expression stringValue=\"/ns:validation/ns:sub/text()\"/>\n                <L7p:Namespaces mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"ns\"/>\n                        <L7p:value stringValue=\"http://ns.l7tech.com/2012/11/otk-ovp\"/>\n                    </L7p:entry>\n                    <L7p:entry>\n                        <L7p:key stringValue=\"s\"/>\n                        <L7p:value stringValue=\"http://schemas.xmlsoap.org/soap/envelope/\"/>\n                    </L7p:entry>\n                </L7p:Namespaces>\n                <L7p:XpathVersion xpathVersion=\"XPATH_1_0\"/>\n            </L7p:XpathExpression>\n        </L7p:ResponseXpathAssertion>\n        <L7p:SetVariable>\n            <L7p:Base64Expression stringValue=\"JHt4cGF0aFN1YmplY3QucmVzdWx0fQ==\"/>\n            <L7p:VariableToSet stringValue=\"owner\"/>\n        </L7p:SetVariable>\n    </wsp:All>\n</wsp:Policy>"
  }
}